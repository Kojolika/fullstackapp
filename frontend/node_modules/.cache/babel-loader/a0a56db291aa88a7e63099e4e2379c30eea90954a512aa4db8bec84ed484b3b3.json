{"ast":null,"code":"import { apiSlice } from \"../../app/api/apiSlice\";\nimport { useSelector } from \"react-redux\";\nimport { selectCurrentToken } from \"./authSlice\";\n\n//inject endpoint for the backend API to return user credentials\n//react hook useLoginMutation is automaticly generated from 'login' endpoint\n//https://redux-toolkit.js.org/rtk-query/usage/queries#frequently-used-query-hook-return-values for more info on the auto generated hook\n\nexport const authApiSlice = apiSlice.injectEndpoints({\n  endpoints: builder => ({\n    login: builder.mutation({\n      query: credentials => ({\n        url: '/login',\n        method: 'POST',\n        body: {\n          ...credentials\n        } //credentials is a json object with fields: username, password\n        //to implement headers at each endpoint check https://redux-toolkit.js.org/rtk-query/api/fetchBaseQuery#text\n      })\n    }),\n\n    logout: builder.mutation({\n      query: credentials => ({\n        url: '/logout/access',\n        method: 'POST',\n        headers: {\n          'Authorization': 'Bearer ' + credentials.toString()\n        } //pass in the access token here\n      })\n    })\n  })\n});\n\nexport const {\n  useLoginMutation,\n  useLogoutMutation\n} = authApiSlice;","map":{"version":3,"names":["apiSlice","useSelector","selectCurrentToken","authApiSlice","injectEndpoints","endpoints","builder","login","mutation","query","credentials","url","method","body","logout","headers","toString","useLoginMutation","useLogoutMutation"],"sources":["C:/Users/amm98/Documents/fullstackapp/frontend/src/Features/auth/authApiSlice.js"],"sourcesContent":["import { apiSlice } from \"../../app/api/apiSlice\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectCurrentToken } from \"./authSlice\";\r\n\r\n//inject endpoint for the backend API to return user credentials\r\n//react hook useLoginMutation is automaticly generated from 'login' endpoint\r\n//https://redux-toolkit.js.org/rtk-query/usage/queries#frequently-used-query-hook-return-values for more info on the auto generated hook\r\n\r\nexport const authApiSlice = apiSlice.injectEndpoints({\r\n    endpoints: builder => ({\r\n        login: builder.mutation({\r\n            query: credentials => ({\r\n                url: '/login',\r\n                method: 'POST',\r\n                body: {...credentials} //credentials is a json object with fields: username, password\r\n                //to implement headers at each endpoint check https://redux-toolkit.js.org/rtk-query/api/fetchBaseQuery#text\r\n            }),\r\n        }),\r\n        logout: builder.mutation({\r\n            query: credentials => ({\r\n                url: '/logout/access',\r\n                method: 'POST',\r\n                headers: {'Authorization': 'Bearer ' + credentials.toString()} //pass in the access token here\r\n            })\r\n        })\r\n    })\r\n})\r\n\r\nexport const {\r\n    useLoginMutation,\r\n    useLogoutMutation\r\n} = authApiSlice;\r\n\r\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,wBAAwB;AACjD,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,kBAAkB,QAAQ,aAAa;;AAEhD;AACA;AACA;;AAEA,OAAO,MAAMC,YAAY,GAAGH,QAAQ,CAACI,eAAe,CAAC;EACjDC,SAAS,EAAEC,OAAO,KAAK;IACnBC,KAAK,EAAED,OAAO,CAACE,QAAQ,CAAC;MACpBC,KAAK,EAAEC,WAAW,KAAK;QACnBC,GAAG,EAAE,QAAQ;QACbC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAE;UAAC,GAAGH;QAAW,CAAC,CAAC;QACvB;MACJ,CAAC;IACL,CAAC,CAAC;;IACFI,MAAM,EAAER,OAAO,CAACE,QAAQ,CAAC;MACrBC,KAAK,EAAEC,WAAW,KAAK;QACnBC,GAAG,EAAE,gBAAgB;QACrBC,MAAM,EAAE,MAAM;QACdG,OAAO,EAAE;UAAC,eAAe,EAAE,SAAS,GAAGL,WAAW,CAACM,QAAQ;QAAE,CAAC,CAAC;MACnE,CAAC;IACL,CAAC;EACL,CAAC;AACL,CAAC,CAAC;;AAEF,OAAO,MAAM;EACTC,gBAAgB;EAChBC;AACJ,CAAC,GAAGf,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}