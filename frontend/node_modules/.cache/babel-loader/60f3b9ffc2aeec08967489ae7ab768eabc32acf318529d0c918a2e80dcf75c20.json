{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amm98\\\\Documents\\\\fullstackapp\\\\frontend\\\\src\\\\Components\\\\Pages\\\\Locations.js\",\n  _s = $RefreshSig$();\nimport { useSelector } from \"react-redux\";\nimport { selectCurrentUser } from \"../../Features/auth/authSlice\";\nimport { useGetUserLocationsQuery } from \"../../Features/auth/authApiSlice\";\nimport { useState } from \"react\";\nimport Location from \"../Modules/Location\";\nimport AddLocation from \"../Modules/AddLocation\";\nimport '../../Styles/locations.css';\nimport '../../Styles/app.css';\nimport { Plus, Delete } from \"../../Icons/svgImages/index.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Locations = () => {\n  _s();\n  const user = useSelector(selectCurrentUser);\n  const skipUserLocations = user ? false : true;\n  const {\n    data,\n    isLoading,\n    isSuccess,\n    refetch\n  } = useGetUserLocationsQuery({\n    'username': user\n  }, {\n    skip: skipUserLocations\n  });\n  const locations = isSuccess ? data.locations : [];\n  const reloadData = () => {\n    refetch();\n  };\n\n  //if locations is being loaded still, just displaying loading text\n  //otherwise if locations is empty, display text to tell the user to add a location\n  //otherwise display all locations that the user has\n  const renderedLocations = isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this) : locations.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Add a location to get started\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 13\n  }, this) : locations.map(location => /*#__PURE__*/_jsxDEV(Location, {\n    className: \"location\",\n    country: location.country ? location.country : null,\n    province: location.province ? location.province : null,\n    city: location.city ? location.city : null,\n    latitude: location.latitude ? location.latitude : null,\n    longitude: location.longitude ? location.longitude : null\n  }, location.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 17\n  }, this));\n  const toggleClose = () => {\n    setAddLocationPopUp(0);\n    setIsAddLocationButtonEnabled(true);\n  };\n  const [isAddLocationButtonEnabled, setIsAddLocationButtonEnabled] = useState(true);\n  const [addLocationPopUp, setAddLocationPopUp] = useState(0);\n  const addLocationMoodle = addLocationPopUp === 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(AddLocation, {\n    reloadData: reloadData,\n    toggleClose: toggleClose\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 64\n  }, this);\n  const handleAdd = () => {\n    setAddLocationPopUp(1);\n  };\n  const addLocationButton = /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"optionsButtons\",\n    onClick: () => handleAdd(),\n    children: /*#__PURE__*/_jsxDEV(Plus, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 95\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 31\n  }, this);\n  const handleDelete = () => {};\n  const deleteLocationButton = /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"optionsButtons\",\n    onClick: () => handleDelete(),\n    children: /*#__PURE__*/_jsxDEV(Delete, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 98\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 34\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"locationsMainPage\",\n    children: [addLocationMoodle, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"locationsOptionsArea border\",\n      children: [addLocationButton, deleteLocationButton]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"locationsList\",\n      children: renderedLocations\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n_s(Locations, \"POd9kAtvjTXPXPvepnI+bDBlJDA=\", false, function () {\n  return [useSelector, useGetUserLocationsQuery];\n});\n_c = Locations;\nexport default Locations;\nvar _c;\n$RefreshReg$(_c, \"Locations\");","map":{"version":3,"names":["useSelector","selectCurrentUser","useGetUserLocationsQuery","useState","Location","AddLocation","Plus","Delete","Locations","user","skipUserLocations","data","isLoading","isSuccess","refetch","skip","locations","reloadData","renderedLocations","length","map","location","country","province","city","latitude","longitude","id","toggleClose","setAddLocationPopUp","setIsAddLocationButtonEnabled","isAddLocationButtonEnabled","addLocationPopUp","addLocationMoodle","handleAdd","addLocationButton","handleDelete","deleteLocationButton"],"sources":["C:/Users/amm98/Documents/fullstackapp/frontend/src/Components/Pages/Locations.js"],"sourcesContent":["import { useSelector } from \"react-redux\";\r\nimport { selectCurrentUser } from \"../../Features/auth/authSlice\";\r\nimport { useGetUserLocationsQuery } from \"../../Features/auth/authApiSlice\";\r\nimport { useState } from \"react\";\r\n\r\nimport Location from \"../Modules/Location\";\r\nimport AddLocation from \"../Modules/AddLocation\";\r\n\r\nimport '../../Styles/locations.css';\r\nimport '../../Styles/app.css';\r\n\r\nimport { Plus, Delete } from \"../../Icons/svgImages/index.js\";\r\n\r\nconst Locations = () => {\r\n\r\n    const user = useSelector(selectCurrentUser);\r\n    const skipUserLocations = user ? false : true;\r\n    const { data, isLoading, isSuccess, refetch } = useGetUserLocationsQuery({ 'username': user },{skip: skipUserLocations});\r\n    const locations = isSuccess? data.locations : [];\r\n\r\n    const reloadData = () => {\r\n        refetch();\r\n    }\r\n\r\n    //if locations is being loaded still, just displaying loading text\r\n    //otherwise if locations is empty, display text to tell the user to add a location\r\n    //otherwise display all locations that the user has\r\n    const renderedLocations = isLoading ?\r\n        <div>loading...</div>\r\n        : locations.length === 0?\r\n            <div>Add a location to get started</div>\r\n            : locations.map(location =>\r\n                <Location \r\n                    className=\"location\" \r\n                    key={location.id}\r\n                    country={location.country? location.country : null}\r\n                    province={location.province? location.province : null}\r\n                    city={location.city? location.city : null}\r\n                    latitude={location.latitude? location.latitude : null} \r\n                    longitude={location.longitude? location.longitude : null}\r\n                />)\r\n    \r\n    const toggleClose = () => {\r\n        setAddLocationPopUp(0);\r\n        setIsAddLocationButtonEnabled(true);\r\n    };\r\n\r\n    const [isAddLocationButtonEnabled, setIsAddLocationButtonEnabled] = useState(true);\r\n    const [addLocationPopUp, setAddLocationPopUp] = useState(0);\r\n    const addLocationMoodle = addLocationPopUp === 0 ? <></> : <AddLocation reloadData={reloadData} toggleClose={toggleClose}/>\r\n    \r\n    const handleAdd = () => {\r\n        setAddLocationPopUp(1)\r\n    }\r\n    const addLocationButton = <button className=\"optionsButtons\" onClick={() => handleAdd()} ><Plus /></button>\r\n\r\n    const handleDelete = () => {\r\n\r\n    }\r\n    \r\n    const deleteLocationButton = <button className=\"optionsButtons\" onClick={()=>handleDelete()}><Delete/></button>\r\n    \r\n    return (\r\n        <div className=\"locationsMainPage\">\r\n            {addLocationMoodle} \r\n            <div className=\"locationsOptionsArea border\">\r\n                {addLocationButton}\r\n                {deleteLocationButton}\r\n            </div>\r\n            <div className=\"locationsList\">\r\n                {renderedLocations}\r\n            </div>   \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Locations;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}